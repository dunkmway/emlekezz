generator client {
  provider               = "prisma-client"
  output                 = "./generated"
  runtime                = "nodejs"
  moduleFormat           = "esm"
  generatedFileExtension = "ts"
  importFileExtension    = "ts"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Note {
  id         String    @id @default(uuid())
  storedDate DateTime?
  title      String?
  content    String?
  chunks     Chunk[]
  userId     String
  user       User      @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Chunk {
  id        String                @id @default(uuid())
  note      Note                  @relation(fields: [noteId], references: [id], onDelete: Cascade)
  noteId    String
  content   String
  embedding Unsupported("vector")
}
